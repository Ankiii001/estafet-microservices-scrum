---
# Define the name and description of the OpenShift project
- set_fact: project="live"
- set_fact: project_description="Live Routing Namespace for Microservices Scrum"
    
- include: create-namespace.yml
- include: add-jenkins-role.yml

- name: Label the project indicating that it is set to live
  shell: "oc process -n {{ project }} -f {{ inventory_dir }}/templates/basic-ui-live-config.yml | oc apply -f -"
  register: command_result
  failed_when: "'exists' not in command_result.stderr and command_result.rc != 0"
  changed_when: "'exists' not in command_result.stderr"
  tags:
    - openshift  
